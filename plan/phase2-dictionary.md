# Phase 2: SKK 辞書の読み込みと検索

## 目標

SKK 辞書ファイルを読み込み、ひらがなの読みから変換候補（漢字）を検索できるようにする。

## 背景

SKK 辞書は以下の形式のプレーンテキスト:
```
かんじ /漢字/感じ/幹事/
にほん /日本/二本/
```
- 行頭がひらがなの読み、`/` で区切られた変換候補が続く
- `;` 以降はアノテーション（表示用コメント）

## タスク

### 2.1 辞書パーサー

- [ ] `src/dictionary.rs` に辞書ファイルのパーサーを実装
- [ ] SKK-JISYO 形式の1行をパースして (読み, Vec<候補>) を返す
- [ ] コメント行 (`;` で始まる行) のスキップ
- [ ] EUC-JP / UTF-8 両対応 (encoding_rs crate)
- [ ] テスト: 正常行、コメント行、空行、アノテーション付き

### 2.2 辞書データ構造

- [ ] `Dictionary` 構造体: 読みから候補リストへの `HashMap`
- [ ] `load_from_file(path)`: ファイルから辞書を読み込み
- [ ] `lookup(reading)`: 読みから候補を検索
- [ ] `lookup_prefix(reading)`: 前方一致検索（インクリメンタル検索用）
- [ ] テスト: 検索ヒット、検索ミス、前方一致

### 2.3 辞書ファイルの入手・配置

- [ ] SKK-JISYO.L (大辞書) のダウンロード手順をドキュメント化
- [ ] `dict/` ディレクトリに配置する規約を決める
- [ ] `.gitignore` で大容量辞書ファイルを除外
- [ ] テスト用の小さな辞書ファイルを `tests/fixtures/` に配置

### 2.4 CLI で辞書検索を確認

- [ ] CLI デモに辞書検索モードを追加
- [ ] ひらがなを入力 → 変換候補を表示

## 完了条件

- 辞書ファイルを読み込んで、読みから漢字候補を返せる
- `cargo test` で辞書関連テストが全てパスする
- CLI で辞書検索を対話的に確認できる

## ファイル構成 (予定)

```
src/
├── dictionary.rs    # 辞書パーサー・検索
├── ...
tests/
└── fixtures/
    └── test_dict.txt  # テスト用小辞書
dict/
└── (SKK-JISYO.L)     # .gitignore で除外
```

## 依存 crate (追加予定)

- `encoding_rs`: EUC-JP 辞書の読み込み用
