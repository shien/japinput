# Phase 6: 仕上げ・インストーラー

## 目標

一般ユーザーが簡単にインストール・使用できる状態に仕上げる。

## タスク

### 6.1 ユーザー辞書

- [ ] ユーザー辞書の保存・読み込み (`%APPDATA%\japinput\user_dict.txt`)
- [ ] 学習機能: 選択した候補の優先度を上げる
- [ ] 単語登録 UI（任意）

**動作確認:**
- `cargo test` でユーザー辞書の保存・読み込みのテストがパスすること
- 候補を選択した後、次回の変換で選択した候補の優先度が上がることを手動確認

### 6.2 設定

- [ ] 設定ファイル (`%APPDATA%\japinput\config.toml`)
- [ ] キーバインドのカスタマイズ
- [ ] 入力モード切り替えキーの設定

**動作確認:**
- `cargo test` で設定ファイルのパース・デフォルト値のテストがパスすること
- `config.toml` を編集して IME を再起動し、設定が反映されることを手動確認

### 6.3 インストーラー

- [ ] WiX / Inno Setup によるインストーラー作成
- [ ] DLL の配置と `regsvr32` 登録の自動化
- [ ] 辞書ファイルの同梱
- [ ] アンインストール処理

**動作確認:**
- クリーンな Windows 環境でインストーラーを実行し、IME が正常にインストールされることを確認
- アンインストール後に IME が一覧から消え、DLL が削除されることを確認

### 6.4 品質向上

- [ ] エラーハンドリングの見直し
- [ ] ログ出力 (`tracing` crate)
- [ ] パフォーマンス計測（辞書検索速度、入力レイテンシ）
- [ ] CI 設定 (GitHub Actions)

**動作確認:**
- `cargo test` と `cargo clippy` がエラー・警告なく通ること
- GitHub Actions の CI が正常に動作し、push 時にテストが自動実行されること
- ログ出力が有効な状態で IME を使用し、ログファイルにイベントが記録されることを確認

### 6.5 ドキュメント

- [ ] README.md: プロジェクト概要、インストール方法、使い方
- [ ] 開発者向けビルド手順
- [ ] ライセンス表記（SKK 辞書のライセンス含む）

**動作確認:**
- README.md の手順に従って、クリーンな環境からビルド・インストールできることを確認
- ライセンス表記に漏れがないことを確認

## 完了条件

- インストーラーで一般ユーザーがインストールできる
- ユーザー辞書が保存・復元される
- 安定して動作する
